<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Dealership Review</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link href="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.css" rel="stylesheet">
  <script src="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.js"></script>
  <script
    src="https://unpkg.com/bootstrap-table@1.18.2/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>

</head>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#">Dealership Review</a>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="/djangoapp">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/djangoapp/about">About</a>
      </li>
    </ul>
    {% if user.is_authenticated %}
    <div style="display: flex;gap: 20px;">
      <p>({{user.username}})</p>
      <a href="{% url 'djangoapp:logout' %}">Logout</a>
    </div>
    {% else %}
    <div style="display: flex;gap: 30px;">
      <form action="{% url 'djangoapp:login' %}" method="post">
        {% csrf_token %}
        <input type="text" name="username" placeholder="username">
        <input type="password" name="password" placeholder="password">
        <button type="submit" class="btn btn-primary">Login</button>
      </form>
      <a href="/djangoapp/signup">Sign Up</a>
    </div>
    {% endif %}
  </div>
</nav>

<body>
    <div class="container">
        <table class="table table-striped" id="table" data-filter-control="true" style="margin-top: 3%; margin-bottom: 3%;">
           <thead>
                   <tr>
                       <th scope="col">ID</th>
                       <th scope="col">Dealer Name</th>
                       <th scope="col">City</th>
                       <th scope="col">Address</th>
                       <th scope="col">Zip</th>
                       <th data-field="state" data-filter-control="select">State</th>
                   </tr>
               </thead>
           <tbody>
               {% for dealer in dealerships%}
                   <tr>
                       <td style="padding: 2%;">{{dealer.id}}</td>
                       <td style="padding: 2%;"><a href="{% url 'djangoapp:dealer_details' dealer.id %}">{{dealer.full_name}}</a></td>
                       <td style="padding: 2%;">{{dealer.city}}</td>
                       <td style="padding: 2%;">{{dealer.address}}</td>
                       <td style="padding: 2%;">{{dealer.zip}}</td>
                       <td style="padding: 2%;">{{dealer.st}}</td>
                   </tr>
               {% endfor %}
           </tbody>
       </table>

</body>
<footer class="text-center text-lg-start bg-light text-muted" style="width: 100vw;margin-left: -9vw;background-color: rgba(0, 0, 0, 0.05);margin-top: 2vh;>
  <!-- Grid column -->
  <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
    <!-- Links -->
    <h6 class="text-uppercase fw-bold mb-4">
      Useful links
    </h6>
    <p>
      <a href="/djangoapp" class="text-reset">Home</a>
    </p>
  </div>
  <!-- Grid column -->

  <!-- Grid column -->
  <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
    <!-- Links -->
    <h6 class="text-uppercase fw-bold mb-4">Here you can contact us</h6>
    <p>
      <a href="/djangoapp/contact" class="text-reset">Contact page</a>
    </p>
  </div>
  <!-- Grid column -->
  </div>
  <!-- Grid row -->
  </div>
  </section>
  <!-- Section: Links  -->

  <!-- Copyright -->
  <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
    Â© 2023 Copyright:
    <a class="text-reset fw-bold">Jonas Keller</a>
  </div>
  <!-- Copyright -->
</footer>
<!-- Footer -->
<script>
    $(function() {
        $('#table').bootstrapTable()
    })
</script>
</html>